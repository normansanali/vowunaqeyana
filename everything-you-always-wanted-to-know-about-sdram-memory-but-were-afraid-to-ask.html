<!doctype html><html class=no-js lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><title>Page Hit, Page Miss, Page Empty - Access Latency Matters - JadeZ</title><script>(function(e,t){e[t]=e[t].replace("no-js","js")})(document.documentElement,"className")</script><meta name=description content="Every read/write memory transaction can be segmented by type into one of three performance bins depending on the status of the bank/page to be accessed. These bins, in order of best to worst, are page-hit, page-empty, and page-miss. For the most part, anything we can do to increase the number of page-hit transactions or reduce"><meta name=robots content="index,follow,noarchive"><meta property="og:title" content="Page Hit, Page Miss, Page Empty - Access Latency Matters"><meta property="og:description" content="Every read/write memory transaction can be segmented by type into one of three performance bins depending on the status of the bank/page to be accessed. These bins, in order of best to worst, are page-hit, page-empty, and page-miss. For the most part, anything we can do to increase the number of page-hit transactions or reduce"><meta property="og:type" content="article"><meta property="og:url" content="/everything-you-always-wanted-to-know-about-sdram-memory-but-were-afraid-to-ask.html"><meta property="article:section" content="post"><meta property="article:published_time" content="2024-08-03T00:00:00+00:00"><meta property="article:modified_time" content="2024-08-03T00:00:00+00:00"><meta itemprop=name content="Page Hit, Page Miss, Page Empty - Access Latency Matters"><meta itemprop=description content="Every read/write memory transaction can be segmented by type into one of three performance bins depending on the status of the bank/page to be accessed. These bins, in order of best to worst, are page-hit, page-empty, and page-miss. For the most part, anything we can do to increase the number of page-hit transactions or reduce"><meta itemprop=datePublished content="2024-08-03T00:00:00+00:00"><meta itemprop=dateModified content="2024-08-03T00:00:00+00:00"><meta itemprop=wordCount content="841"><meta itemprop=keywords content><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=dns-prefetch href=//fonts.gstatic.com><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700"><link rel=stylesheet href=https://assets.cdnweb.info/hugo/mainroad/css/style.css><link rel="shortcut icon" href=./favicon.ico></head><body class=body><div class="container container--outer"><header class=header><div class="container header__container"><div class=logo><a class=logo__link href=./index.html title=JadeZ rel=home><div class="logo__item logo__text"><div class=logo__title>JadeZ</div></div></a></div><div class=divider></div></div></header><div class="wrapper flex"><div class=primary><main class=main role=main><article class=post><header class=post__header><h1 class=post__title>Page Hit, Page Miss, Page Empty - Access Latency Matters</h1><div class="post__meta meta"><div class="meta__item-datetime meta__item"><svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class=meta__text datetime=2024-08-03T00:00:00Z>August 03, 2024</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2 1 2h8v11H0V2z"/></svg><span class=meta__text><a class=meta__link href=./categories/blog/ rel=category>blog</a></span></div></div></header><div class="content post__content clearfix"><p>Every read/write memory transaction can be segmented by type into one of three performance bins depending on the status of the bank/page to be accessed. These bins, in order of best to worst, are page-hit, page-empty, and page-miss. For the most part, anything we can do to increase the number of page-hit transactions or reduce the number of page-miss transactions is a good thing.</p><p>A page-hit access is defined as any read or write operation to an open page. That is, the bank containing the open page is already active and is immediately ready to service requests. &nbsp;Because the target page is already open, the nominal access latency for any memory transaction falling into this category is approximately tCAS (the CAS Latency of the device).</p><p><a class=thickbox href=# title><img alt src=https://cdn.statically.io/img/images.anandtech.com/doci/3851/page_hit_auto_page_close_575px.png style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></a><br>Click to enlarge</p><p>Figure 6. Page-hit timing (with precharge and subsequent bank access)</p><p>Figure 6 shows the minimum read latency associated with a best-case page-hit scenario. For a part with a CAS Latency of 6T, the memory controller waits only six short clocks before the start of data return. During a Read with Auto-Precharge, the Read command will execute as normal except the active bank will begin precharging CAS-latency (CL) clock cycles before the end of the burst. This feature allows the precharge operation to be partially or completely hidden during periods of burst read cycles, dependent on CL. When tuning our systems we always seek to set tRTP such that tRTP + tRP equals CL + tBurst for exactly this reason. Put another way, if CL and tRP are the same set 4T for DDR3 (2T for DD2).</p><p>Sequential reads to the same page make these types of transactions even more profitable as each successive access can be scheduled at a minimum of tBurst (4T) clocks from the last. The timing is captured as the CAS-to-CAS Delay (tCCD) and is commonly referred to as 'Back-to-Back CAS Delay' (B2B), as shown per Figure 7. This feature makes possible extremely high data transfer rates for total burst lengths of one page or less - in our case, 8KB.</p><p><a class=thickbox href=# title><img alt src=https://cdn.statically.io/img/images.anandtech.com/doci/3851/triple_burst_chop_with_page_close_575px.png style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></a><br>Click to enlarge</p><p>Figure 7. Triple Burst Chop read with precharge and subsequent banks access</p><p>Although not ideal, a page-empty access is still preferred to a miss. In this case the bank to be accessed is Idle with no page open. Common sense tells us any attempt to read or write data to a page in this bank first requires we Activate the bank. In other words, nominal access latency now includes the time to open the page - Row-Column (or Command) Delay (tRCD). This is a doubling of the minimum access latency&nbsp;when compared to that of the page-hit case! Twelve cycles (tRCD + CL) now elapse before the first word is returned. Figure 8 shows this the detail.</p><p><a class=thickbox href=# title><img alt src=https://cdn.statically.io/img/images.anandtech.com/doci/3851/page_empty_no_page_close_575px.png style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></a><br>Click to enlarge</p><p>Figure 8. Page-empty timing. Page remains open</p><p>Finally, as if the relative penalty of page-empty access wasn't bad enough, here comes page-miss. A miss occurs anytime a memory transaction must first close an open page in order to open an alternate page in the same bank. Only then can the specified data access take place. First closing an open page requires a Precharge, adding the RAS Precharge (tRP) delay to any already lengthy operation. As you can see by Figure 9, the nominal latency of an access of this type is three times that of&nbsp;one page-hit operation!</p><p><a class=thickbox href=# title><img alt src=https://cdn.statically.io/img/images.anandtech.com/doci/3851/page_miss_no_page_close_575px.png style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></a><br>Click to enlarge</p><p>Figure 9. Page-miss timing. Page remains open</p><p>The relative gain/loss ratio for each access type can be quickly assessed simply through a cursory review of the most basic device timings. Imagine a memory kit rated for operation at DDR3-1600, 6-6-6-18 (CL-tRCD-tRP-tRAS): With nothing more we can estimate six cycles for a page-hit access, 12 cycles for a page-empty access, and 18 cycles for a page-miss access.</p><p>Normalized to the page-hit access latency, page-empty access is twice as long, and page-miss access is a whole three times as long. If we combine this with what we know about the inner functions of the SDRAM state machine we see page-hit and page-miss are really just subsets of the same bank state (active). Of course, page-empty access necessarily implies an idle bank. The following proof rewards us with some powerful insight.</p><p><img alt src=https://cdn.statically.io/img/images.anandtech.com/doci/3851/break_even_proof.png style=margin:auto;display:block;text-align:center;max-width:100%;height:auto></p><p>The variable n also represents the percentage of accesses to banks with open pages that must result in a page-hit access if we are to simply pace the nominal access latency that would be achieved if every read access was to an idle bank. And the only thing this depends on is the RAS Precharge delay and the Row-Column (or Command) Delay of the device in question.</p><p>You would think by working to maximize n, performance would be maximized as well. And you'd be right. Let's take what we've learned thus far and step it up a notch. We promise, after this you'll never see memory timings in the same light ever again.</p><p>Before proceeding, we've prepared a video for those of you that would like to view&nbsp;a few simple animations meant to help visualize each transaction type:</p><p align=center></p><p class=postsid style=color:rgba(255,0,0,0)>ncG1vNJzZmivp6x7orrAp5utnZOde6S7zGiqoaenZIB5gZBonK%2Bdoq7BqbXNoGSyp6Virq3DwLKqZq%2BRo8GmsIytpmajnqTEbq3BqKytZaOZv6K5jKacpqeirnqjwdNmrp6qlWKup77AoptmrJ9irrS3jm4%3D</p></div></article></main><nav class="pager flex"><div class="pager__item pager__item--prev"><a class=pager__link href=./raghava-uday-kannada-height-weight-net-worth-age-birthday-wikipedia-who-instagram-biography-558624-html.html rel=prev><span class=pager__subtitle>«&#8201;Previous</span><p class=pager__title>Raghava Uday Kannada Height, Weight, Net Worth, Age, Birthday, Wikipedia, Who, Instagram, Biography</p></a></div><div class="pager__item pager__item--next"><a class=pager__link href=./oprah-winfrey-reveals-surprising-moment-meghan-harry-interview.html rel=next><span class=pager__subtitle>Next&#8201;»</span><p class=pager__title>Oprah Winfrey reveals moment during Harry and Meghan interview that surprised her the most</p></a></div></nav></div><aside class=sidebar><div class="widget-recent widget"><h4 class=widget__title>Recent Posts</h4><div class=widget__content><ul class=widget__list><li class=widget__item><a class=widget__link href=./brittney-griner-height-weight-net-worth-age-birthday-wikipedia-who-nationality-biography-103530-html.html>Brittney Griner Height, Weight, Net Worth, Age, Birthday, Wikipedia, Who, Nationality, Biography</a></li><li class=widget__item><a class=widget__link href=./dekker-edward-gosselaar.html>Dekker Edward Gosselaar - Bio, Age, Single, Net Worth, Facts</a></li><li class=widget__item><a class=widget__link href=./dennis-and-trinity-rodman-a-sporting-familys-journey-as-a-soccer-superstar.html>Dennis and Trinity Rodman: A Sporting Family's Journey as a Soccer Superstar</a></li><li class=widget__item><a class=widget__link href=./erika-christensens-husband-cole-delivers-her-second-child.html>Erika Christensen's Husband Cole Delivers Her Second Child</a></li><li class=widget__item><a class=widget__link href=./401919-eva-marcilles-fans-get-emotional-and-did-html.html>Eva Marcilles Fans Get Emotional &amp;amp; Did Not Expect Her Divorce from Michael Sterling</a></li></ul></div></div><div class="widget-categories widget"><h4 class=widget__title>Categories</h4><div class=widget__content><ul class=widget__list><li class=widget__item><a class=widget__link href=./categories/blog/>blog</a></li></ul></div></div></aside></div><footer class=footer><div class="container footer__container flex"><div class=footer__copyright>&copy; 2024 JadeZ.
<span class=footer__copyright-credits>Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and <a href=https://github.com/Vimux/Mainroad/ rel="nofollow noopener" target=_blank>Mainroad</a> theme.</span></div></div></footer></div><script async defer src=https://assets.cdnweb.info/hugo/mainroad/js/menu.js></script>
<script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/floating.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/tracking_server_6.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script>var _paq=window._paq=window._paq||[];_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){e="//analytics.cdnweb.info/",_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","1"]);var e,n=document,t=n.createElement("script"),s=n.getElementsByTagName("script")[0];t.async=!0,t.src=e+"matomo.js",s.parentNode.insertBefore(t,s)}()</script></body></html>